<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 
  <title>Iliw</title>

        <script type='text/javascript' src='spotify.js'></script>
        <link rel="stylesheet" type="text/css" href="style.css">  
        <script type='text/javascript' src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
        <script type='text/javascript' src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://d2c87l0yth4zbw.cloudfront.net/reboot.css">
        <script src="http://assets.absolutdrinks.com/api/addb-0.5.2.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="instafeed.min.js"></script>

</head>

        <body>

            <!--kod för Spotifysökruta och visning av album samt uppspelning av låtar-->

<h1>Search for an Artist</h1>
<form id="search-form">
    <input type="text" id="query" value="" class="form-control" />
    <input type="submit" id="search" class="btn btn-primary" value="Search" />
</form>

<!-- Vodka html -->
<div id="vodka-wrapper">
    <h2>Drinks!</h2>
    <ul id="vodka-out"></ul>
</div>

<h2>Spotify!</h2>
<div class="container">
    <div id="results"></div>
</div>
<script src="spotify.js"  id="results-template" type="text/x-handlebars-template">
    {{#each albums.items}}
    <div style="background-image:url({{images.0.url}})" data-album-id="{{id}}" class="cover"></div>
    {{/each}}
</script>


<!--Instagram kod-->
<h2>Pictures!</h2>
<div id="instafeed"></div>

<script type="text/javascript">
    var feed = new Instafeed({
        get: 'tagged',
        tagName: 'vuxenresan',
        clientId: '088e7ceced2c4a8cba62ca9e44de92d2',
        template: '<a href="{{link}}"><img src="http:{{image}}" /></a>',
        resolution: 'low_resolution',
        sortBy: 'most-recent'
    });
    feed.run();
</script>

<div id="instafeedTwo"></div>
<script type="text/javascript">
    var feed = new Instafeed({
        get: 'tagged',
        tagName: 'tbt',
        clientId: '088e7ceced2c4a8cba62ca9e44de92d2',
        template: '<a href="{{link}}"><img src="http:{{image}}" /></a>',
        resolution: 'low_resolution',
        sortBy: 'most-recent'
    });
    feed.run();
</script>
<!--Absolut vodka testkod-->
<script type="text/javascript" >
    // This is the jQuery way of doing something after the page (and for example all other javascript libraries) are loaded.
    $(document).ready(function(){
        // This intializes the addb library. 1281 is an appId that I've registered for me for the url http://localhost:8080 which
        // is where the page lives on my local machine. You will have to change this to your appId (which should be connected to
        // http://iliw.unvelo.se I guess?).
        addb.init({
            appId: 1249
        });

        // This connects code to the search button in the markup
        $('#search').click(function(){
            // This clears out the vodka-out list in the markup
            $('#vodka-out').html('');

            // This makes a call to the addb api and sends...
            addb.drinks().withIngredient($('#query').val()).loadSet(function(query) { 
                // ...the results into a jQuery .each loop, which...
                $(query.result).each(function(index, drink){
                    // ...prints the results in a html list.

                    $('#vodka-out').append("<h1>" + drink.name + "</h1>" + "<img width='306px' height='306px' style='display:inline-block;' title='" + drink.name + "' src='" + drink.image() + "'/>"+"<P>" + drink.descriptionPlain + "</p>");

                    for (var i =  0; i < drink.ingredients.length; i++) {
                        $('#vodka-out').append("<li>" + drink.ingredients[i].textPlain + "</li>");

                    };
                });
            });
        });
    });
</script>
    </body>
</html>


